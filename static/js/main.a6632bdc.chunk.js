(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(t,e,n){t.exports=n(45)},42:function(t,e,n){t.exports=n.p+"static/media/mazep.96a1a830.jpg"},45:function(t,e,n){"use strict";n.r(e);var a=n(1),l=n.n(a),o=n(12),i=n.n(o),r=n(13),s=n(14),c=n(18),u=n(15),h=n(19),m=n(16),p=n.n(m),d=n(47),g=(n(42),function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(l)))).state={city:null,data:[],date:null,id:1,message:null,message1:null,title:null,img:null,desc:null,price:null,intervalIsSet:!1,idToDelete:null,idToUpdate:null,objectToUpdate:null},n.getDataFromDb=function(){fetch("http://localhost:3001/chat").then((function(t){return t.json()})).then((function(t){return n.setState({data:t.data})}))},n.putDataToDB=function(t,e){if(null!==(e&&t)){for(var a=n.state.data.map((function(t){return t.id})),l=0;a.includes(l);)++l;p.a.post("http://localhost:3001/chat/",{id:l,message:t,message1:e,date:(new Date).toLocaleTimeString()})}else alert("\u8acb\u88dc\u9f4a\u8cc7\u6599");n.setState({message1:""})},n.deleteFromDB=function(t){fetch("http://localhost:3001/chat/"+t,{method:"delete",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)}))},n.updateDB=function(t,e){fetch("http://localhost:3000/comments/"+t,{method:"put",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({message:e,message1:e})}).then((function(t){return t.json()})).then((function(t){return console.log(t)}))},n.scrollWindow=function(){var t=document.querySelector(".chats");t.scrollTo(0,t.scrollHeight)},n}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){if(this.getDataFromDb(),!this.state.intervalIsSet){var t=setInterval(this.getDataFromDb,1e3);this.setState({intervalIsSet:t})}}},{key:"componentWillUnmount",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null}))}},{key:"render",value:function(){var t=this,e=this.state.data,n=(new Date).toLocaleString();Date.now();return l.a.createElement("div",null,l.a.createElement("div",{style:{maxWidth:"100%",backgroundColor:"rgb(29,29,29)",color:"white",textAlign:"center",fontSize:"2em",fontFamily:"DFKai-sb"}},"\u804a\u5929\u5ba4\u7bc4\u4f8b"),l.a.createElement("ul",null,l.a.createElement(d.a,{style:{backgroundColor:"lightgrey",color:"black"}},e.length<=0?"\u4f86\u7576\u7b2c\u4e00\u500b\u767c\u8a00\u7684":e.map((function(t){return l.a.createElement("ol",{style:{padding:"10px"},key:e.id},l.a.createElement("h1",{style:{margin:"0",fontSize:"1em",float:"left"}},t.message," : ",t.message1)," \xa0\xa0\xa0\xa0",l.a.createElement("p",{style:{marginLeft:"5vw",fontSize:"0.2em",float:"left"}},t.date,l.a.createElement("br",null),n))})))),l.a.createElement("div",{style:{padding:"10px",textAlign:"center"}},l.a.createElement("input",{type:"text",onChange:function(e){return t.setState({message:e.target.value})},placeholder:"\u540d\u5b57",style:{height:"5vh",width:"20vw",fontSize:"1em",margin:"0",textAlign:"center"}}),l.a.createElement("input",{id:"hidden1",type:"text",onChange:function(e){return t.setState({message1:e.target.value})},value:this.state.message1,placeholder:"\u8a0a\u606f",style:{height:"5vh",width:"20vw",fontSize:"1em",margin:"0",textAlign:"center"}}),"\xa0\xa0\xa0",l.a.createElement("button",{style:{maxHeight:"9vh",maxWidth:"15vw",fontSize:"1em",margin:"0",textAlign:"center",padding:"0"},onClick:function(){return t.putDataToDB(t.state.message,t.state.message1)}},"\u8f38\u5165")))}}]),e}(a.Component));i.a.render(l.a.createElement(g,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a6632bdc.chunk.js.map